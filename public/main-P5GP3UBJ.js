import{a as I}from"./chunk-RB5GFL6C.js";import{a as C}from"./chunk-GU6JWO6J.js";import{a as n}from"./chunk-5MDO62B3.js";import{O as m,Y as u,ea as f,fa as h,ga as l,ha as d,ja as S,k as c,ka as v,ma as g,n as p,o as i,q as a}from"./chunk-EDOQMP4J.js";var R=[{path:"",loadChildren:()=>import("./chunk-7JYBO56N.js").then(t=>t.PublicRoutes)},{path:"app",loadChildren:()=>import("./chunk-4MKEACYD.js").then(t=>t.PrivateRoutes)}];var k=(t,e)=>{let s=i(n),r=s.token()??localStorage.getItem(s.STORAGE_TOKEN)??"";return r&&(t=t.clone({headers:t.headers.set("Authorization",`Bearer ${r}`)})),e(t)};var x={providers:[g(R),h(l([k]))]};var A=(()=>{let e=class e extends C{constructor(r){super(r),this._http=r,this.URL=`${this.URL_API}auth/renew`}};e.\u0275fac=function(o){return new(o||e)(p(f))},e.\u0275prov=c({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var b=(()=>{let e=class e{constructor(){this._router=i(v),this.sessionService=i(n),this.renewSession=i(A),this.cartService=i(I),this.title="pt-24008"}ngOnInit(){this.checkSession()}checkSession(){if(!localStorage.getItem(this.sessionService.STORAGE_TOKEN)){this._router.navigateByUrl("/auth/login",{replaceUrl:!0});return}this.renewSession.create().subscribe({next:({data:o})=>{o&&(this.cartService.initializeCart(),this.sessionService.setSession(o))}})}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=a({type:e,selectors:[["app-root"]],standalone:!0,features:[u],decls:1,vars:0,template:function(o,y){o&1&&m(0,"router-outlet")},dependencies:[S]});let t=e;return t})();d(b,x).catch(t=>console.error(t));
