import{a as $}from"./chunk-6QO6FJD2.js";import{a as R}from"./chunk-VQZM2X26.js";import{a as M}from"./chunk-KMLU6LUC.js";import"./chunk-GU6JWO6J.js";import"./chunk-5MDO62B3.js";import{$ as V,B as r,E as v,F as D,G as f,J as _,K as T,L as g,M as a,N as o,O as F,R as x,S as c,T as p,U as m,W as w,Y as b,Z as A,_ as P,h as y,ia as q,o as s,q as E,y as C}from"./chunk-EDOQMP4J.js";var j=(e,n)=>n._id,k=()=>[];function B(e,n){if(e&1&&(a(0,"div")(1,"p"),c(2),o(),a(3,"p")(4,"b"),c(5),o()()()),e&2){let t,i,l=x();r(2),p((t=l.cartService.currentOrder())==null||t.user==null?null:t.user.name),r(3),p((i=l.cartService.currentOrder())==null||i.user==null?null:i.user.email)}}function L(e,n){if(e&1&&(a(0,"div")(1,"h3"),c(2),o(),F(3,"hr"),a(4,"p"),c(5),o(),a(6,"div"),c(7),o()()),e&2){let t=n.$implicit;r(2),p(t.product.name),r(3),p(t.product.description),r(2),w(" Quantity: ",t.quantity," Ppu: ",t.product.price," total: ",t.quantity*t.product.price," ")}}function Q(e,n){if(e&1&&(a(0,"p"),c(1),P(2,"totalOrder"),o()),e&2){let t,i=x();r(),m("TOTAL: ",V(2,1,(t=i.cartService.currentOrder())==null?null:t.products),"")}}var X=(()=>{let n=class n extends M{constructor(){super(),this.ar=s(q),this.cartService=s(R),this.isEditView=v(!1),this.orderID=v(""),s(C).onDestroy(()=>{this.isEditView.set(!1),this.orderID.set("")})}ngOnInit(){let{id:i}=this.ar.snapshot.params;if(i){this.isEditView.set(!0),this.orderID.set(i),this.fetchOrder(i);return}}fetchOrder(i){this.cartService.detail(i).pipe(y(({data:l})=>{l&&this.cartService.currentOrder.set(l)})).subscribe({next:l=>{console.log(l)}})}};n.\u0275fac=function(l){return new(l||n)},n.\u0275cmp=E({type:n,selectors:[["app-summary"]],standalone:!0,features:[D,b],decls:10,vars:6,template:function(l,d){if(l&1&&(a(0,"h1"),c(1),o(),a(2,"small"),c(3),o(),f(4,B,6,2,"div"),T(5,L,8,5,"div",null,j),a(7,"h2"),c(8),o(),f(9,Q,3,3,"p")),l&2){let S,h,O,I,u;r(),m("Order: ",(S=d.cartService.currentOrder())==null?null:S._id,""),r(2),p((h=d.cartService.currentOrder())==null?null:h.created),r(),_(4,d.isAdmin?4:-1),r(),g((O=d.cartService.currentOrder())==null?null:O.products),r(3),m("Order status: ",(I=d.cartService.currentOrder())==null?null:I.status,""),r(),_(9,((u=(u=d.cartService.currentOrder())==null?null:u.products)!==null&&u!==void 0?u:A(5,k)).length>0?9:-1)}},dependencies:[$]});let e=n;return e})();export{X as SummaryComponent};
